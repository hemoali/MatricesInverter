#include <iostream>
#include "xtensor/xarray.hpp"
#include "MatricesInverter.h"

using namespace std;
using namespace xt;

int main()
{
    xarray<double> testcase
            {
                    {
                            {2,          -1,         0,          0,          0},
                            {-1,         2,          -1,         0,          0},
                            {0,          -1,         2,          -1,         0},
                            {0,          0,          -1,         2,          -1},
                            {0,          0,          0,          -1,         2}
                    },
                    {
                            {1,          0.1,        -0.2,       3,          0},
                            {0,          2,          0.1,        2,          0.1},
                            {5,          0.9,        0.2,        -0.3,       3},
                            {1,          0.3,        3,          7,          0.1},
                            {10,         0.3,        5,          0.69,       1}
                    },
                    {       {0.20174342, 0.73145245, 0.18136291, 0.01204684, 0.70837197},
                            {0.06204642, 0.07189408, 0.26778193, 0.6968776,  0.82103538},
                            {0.09047358, 0.27367693, 0.91401005, 0.08696591, 0.84466424},
                            {0.20775579, 0.78745877, 0.73435263, 0.67169575, 0.8606635},
                            {0.60448942, 0.9689494,  0.54238357, 0.71025989, 0.07626445}
                    },
                    {
                            {0.5581659,  0.62325005, 0.21223122, 0.81621206, 0.65758544},
                            {0.25411692, 0.63553692, 0.3266877,  0.8757623,  0.37936777},
                            {0.18728011, 0.29102556, 0.92589567, 0.37174325, 0.9775655},
                            {0.73394681, 0.27981439, 0.48929239, 0.63910969, 0.50320748},
                            {0.04662855, 0.40788868, 0.07573098, 0.04715624, 0.51807576}
                    },
                    {       {2.7742952,  1.71835365, 4.84701182, 0.0709587,  2.65374561},
                            {3.09790785, 4.16296072, 3.77432023, 1.96212432, 2.49593222},
                            {3.67244406, 1.95304064, 3.65120681, 0.44695872, 3.78534542},
                            {3.17400097, 3.6156711,  2.5223851,  2.58347956, 3.48880626},
                            {0.09402211, 2.88242208, 1.85499803, 4.77238007, 2.67961157}
                    }
            };

    MatricesInverter matricesInverter;

    cout << matricesInverter.invertMatrices(testcase);

    return 0;
}
